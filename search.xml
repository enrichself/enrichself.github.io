<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>CentOS7.4下安装Oracle 11gR2</title>
      <link href="2020/09/20/CentOS/"/>
      <url>2020/09/20/CentOS/</url>
      
        <content type="html"><![CDATA[<p><em>参考链接</em><a href="https://blog.csdn.net/qq_32786873/article/details/82110235">CentOS7.4下安装Oracle 11gR2</a></p><h1 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h1><p>系统：CentOS7.4  4核4G  磁盘50G</p><p>Oracle软件版本：linux.x64_11gR2_database_1of2.zip ； linux.x64_11gR2_database_2of2.zip</p><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>安装依赖包：验证相关包是否安装。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#rpm -qa binutils compat-libstdc++-33 elfutils-libelf elfutils-libelf-devel elfutils-libelf-devel-static gcc gcc-c++ glibc glibc-common glibc-devel glibc-headers glibc-static kernel-headers pdksh libaio libaio-devel libgcc libgomp libstdc++ libstdc++-devel libstdc++-static make numactl-devel sysstat unixODBC unixODBC-devel</span><br></pre></td></tr></table></figure><a id="more"></a><p>kernel-headers-3.10.0-123.el7.x86_64</p><p>gcc-c++-4.8.2-16.el7.x86_64</p><p>numactl-devel-2.0.9-2.el7.x86_64</p><p>glibc-headers-2.17-55.el7.x86_64</p><p>glibc-common-2.17-55.el7.x86_64</p><p>binutils-2.23.52.0.1-16.el7.x86_64</p><p>unixODBC-devel-2.3.1-10.el7.x86_64</p><p>libaio-0.3.109-12.el7.x86_64</p><p>make-3.82-21.el7.x86_64</p><p>elfutils-libelf-0.158-3.el7.x86_64</p><p>elfutils-libelf-devel-0.158-3.el7.x86_64</p><p>sysstat-10.1.5-4.el7.x86_64</p><p>glibc-static-2.17-55.el7.x86_64</p><p>glibc-devel-2.17-55.el7.x86_64</p><p>glibc-2.17-55.el7.x86_64</p><p>elfutils-libelf-devel-static-0.158-3.el7.x86_64</p><p>libaio-0.3.109-12.el7.i686 gcc-4.8.2-16.el7.x86_64</p><p>gcc-4.8.2-16.el7.x86_64</p><p>libgcc-4.8.2-16.el7.i686</p><p>libstdc++-static-4.8.2-16.el7.x86_64</p><p>libaio-devel-0.3.109-12.el7.x86_64</p><p>libstdc++-4.8.2-16.el7.x86_64</p><p>libaio-devel-0.3.109-12.el7.i686</p><p>unixODBC-2.3.1-10.el7.x86_64</p><p>libstdc++-devel-4.8.2-16.el7.x86_64</p><p>compat-libstdc++-33-3.2.3-71.el7.x86_64</p><p>libgcc-4.8.2-16.el7.x86_64</p><p>libgomp-4.8.2-16.el7.x86_64</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#yum 安装包名</span><br></pre></td></tr></table></figure><p>安装命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install binutils compat-libcap1 compat-libstdc++-33 gcc gcc-c++ glibc glibc-devel ksh libaio libaio-devel libgcc libstdc++ libstdc++-devel libXi libXtst make sysstat unixODBC unixODBC-devel</span><br></pre></td></tr></table></figure><p>安装完后检查命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -q binutils compat-libcap1 compat-libstdc++-33 gcc gcc-c++ glibc glibc-devel ksh libaio libaio-devel libgcc libstdc++ libstdc++-devel libXi libXtst make sysstat unixODBC unixODBC-devel | grep &quot;not installed&quot;</span><br></pre></td></tr></table></figure><h1 id="下载Oracle"><a href="#下载Oracle" class="headerlink" title="下载Oracle"></a>下载Oracle</h1><p><em>官方下载地址</em>：<a href="https://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html">download</a></p><p>官网下载需要登陆Oracle账号，没有的可以注册一个。</p><p>这里我分享一个百度云盘的下载链接(只有64位的)：<a href="https://pan.baidu.com/s/1gsyVwVs0C0KjvHE5xgN5YA">百度云下载</a> 密码：v65p</p><h1 id="关闭安全措施"><a href="#关闭安全措施" class="headerlink" title="关闭安全措施"></a>关闭安全措施</h1><h2 id="关闭防火墙："><a href="#关闭防火墙：" class="headerlink" title="关闭防火墙："></a>关闭防火墙：</h2><p><code>systemctl stop firewalld</code> (由于是测试环境，为了方便，将防火墙关闭。但是，在正式的生产环境，千万不要这样做。)<br>当然我们也可以不关闭防火墙，只需要开放1521端口(oracle默认是1521端口，如果你修改为其它的端口了，这里就要开放对应的端口)</p><p><code>firewall-cmd --zone=public --add-port=1521/tcp --permanent   //放开1521端口 </code></p><p><code>firewall-cmd --reload  //在不改变状态的条件下重新加载防火墙配置文件</code></p><p><strong>其他常用命令</strong>：</p><p>查看防火墙的状态：<code>systemctl status firewalld</code></p><p>启动防火墙服务：<code>systemctl start firewalld</code></p><p>禁用防火墙：<code>systemctl disable firewalld</code></p><p>重载配置文件：<code>firewall-cmd --reload</code></p><p>查看已经开放的端口：<code>firewall-cmd --list-ports</code></p><h2 id="关闭selinux（需重启生效）"><a href="#关闭selinux（需重启生效）" class="headerlink" title="关闭selinux（需重启生效）"></a>关闭selinux（需重启生效）</h2><p>selinux提供了很多Linux的系统安全措施，演示系统中，将其关闭，方便操作。需要注意的是，在正式生产环境下，千万不要这样做。</p><p>执行命令<code>getenforce(或者sestatus -v)</code>查看selinux的状态，初始安装的CentOS7是打开状态。</p><p><code>vim /etc/selinux/config</code> 修改SELINUX的值为disabled</p><p><img src="https://ftp.bmp.ovh/imgs/2020/09/f8e7128e02a02f23.png"></p><p>修改了之后需要重启服务器，selinux才能生效（这一步非常重要），重启后可以通过getenforce(或者sestatus -v)命令来查看，值一定要disabled才行。</p><p><img src="https://ftp.bmp.ovh/imgs/2020/09/9c61e833cc562049.png"></p><h1 id="创建运行oracle数据库的用户和用户组"><a href="#创建运行oracle数据库的用户和用户组" class="headerlink" title="创建运行oracle数据库的用户和用户组"></a>创建运行oracle数据库的用户和用户组</h1><ol><li>[Solin@Solin ~]$ su root    #切换到root</li><li>密码：</li><li>[root@Solin Solin]# groupadd oinstall    #创建用户组oinstall</li><li>[root@Solin Solin]# groupadd dba    #创建用户组dba</li><li>[root@Solin Solin]# useradd -g oinstall -G dba -m oracle    #创建oracle用户，并加入到oinstall和dba用户组</li><li>[root@Solin Solin]# passwd oracle    #设置用户oracle的登陆密码，不设置密码，在CentOS的图形登陆界面没法登陆</li><li>更改用户 oracle 的密码 。</li><li>新的 密码：</li><li>重新输入新的 密码：</li><li>passwd：所有的身份验证令牌已经成功更新。</li><li>[root@Solin Solin]# id oracle    # 查看新建的oracle用户</li><li>uid=1001(oracle) gid=1001(oinstall) 组=1001(oinstall),1002(dba)</li><li>[root@Solin Solin]# </li></ol><p>关于创建的这些用户组的说明，请参考：<a href="https://blog.csdn.net/qq_32786873/article/details/82187346">参考</a></p><h1 id="修改oracle用户限制"><a href="#修改oracle用户限制" class="headerlink" title="修改oracle用户限制"></a>修改oracle用户限制</h1><p>执行<code>vim /etc/security/limits.conf</code>命令，编辑/etc/security/limits.conf文件，修改操作系统对oracle用户资源的限制。在该文件中添加如下行：</p><ol><li>oracle soft nproc 2047</li><li>oracle hard nproc 16384</li><li>oracle soft nofile 1024</li><li>oracle hard nofile 65536</li></ol><p>关于limits.conf的配置请参考：<a href="https://blog.csdn.net/qq_32786873/article/details/82190224">参考</a></p><p>要使limits.conf文件配置生效，必须要确保pam_limits.so文件被加入到启动文件中。</p><p>编辑文件：vim /etc/pam.d/login，加入以下语句:</p><p><code>session    required     pam_limits.so</code></p><p>编辑 /etc/profile ，输入命令：<code>vim /etc/profile</code>，按 i 键进入编辑模式，将下列内容加入该文件。</p><ol><li>if [ $USER = “oracle” ]; then</li><li>if [ $SHELL = “/bin/ksh” ]; then</li><li>ulimit -p 16384</li><li>ulimit -n 65536</li><li>else</li><li>ulimit -u 16384 -n 65536</li><li>fi</li><li>fi</li></ol><h1 id="调整内核参数"><a href="#调整内核参数" class="headerlink" title="调整内核参数"></a>调整内核参数</h1><p><img src="https://ftp.bmp.ovh/imgs/2020/09/2c73e58344960a26.png"></p><p>编辑/etc/sysctl.conf文件，设置相关参数的系统默认值。如果该文件中已有相关参数的设置，则确保参数值不小于如下对应值；如果还没有相关参数的设置，则按照如下格式添加相应的参数设置行。 </p><ol><li>fs.file-max = 6815744</li><li>fs.aio-max-nr = 1048576</li><li>kernel.shmall = 2097152</li><li>kernel.shmmax = 2147483648</li><li>kernel.shmmni = 4096</li><li>kernel.sem = 250 32000 100 128</li><li>net.ipv4.ip_local_port_range = 9000 65500</li><li>net.core.rmem_default = 262144</li><li>net.core.rmem_max = 4194304</li><li>net.core.wmem_default = 262144</li><li>net.core.wmem_max = 1048576</li></ol><p>要使 /etc/sysctl.conf 更改立即生效，执行以下命令。 输入：sysctl -p 显示如下：</p><p>(-p：从指定的文件加载系统参数，如不指定即从/etc/sysctl.conf中加载)</p><p><img src="https://ftp.bmp.ovh/imgs/2020/09/ce0f123fdec4d710.png"></p><h1 id="创建数据库软件目录和数据文件存放目录（目录的位置，根据自己的情况来定），并改变相应的权限"><a href="#创建数据库软件目录和数据文件存放目录（目录的位置，根据自己的情况来定），并改变相应的权限" class="headerlink" title="创建数据库软件目录和数据文件存放目录（目录的位置，根据自己的情况来定），并改变相应的权限"></a>创建数据库软件目录和数据文件存放目录（目录的位置，根据自己的情况来定），并改变相应的权限</h1><ol><li>mkdir -p /opt/oracle/product    #创建oracle安装目录</li><li>mkdir -p /opt/oracle/oradata    #创建oracle数据文件存放目录</li><li>mkdir -p /opt/oracle/oraInventory    #创建oracle数据库清单目录 </li><li>chown -R oracle:oinstall /opt/oracle    #设置oracle用户为目录的所有者</li><li>chmod -R 775 /opt/oracle/    #修改权限</li></ol><h1 id="配置oracle用户的环境变量"><a href="#配置oracle用户的环境变量" class="headerlink" title="配置oracle用户的环境变量"></a>配置oracle用户的环境变量</h1><p>1.切换到新创建的oracle用户下：<code>su oracle</code></p><p>2.输入命令：<code>vim /home/oracle/.bash_profile</code></p><p>3.按 i 进入编辑模式，增加以下内容</p><ol><li>export ORACLE_BASE=/opt/oracle</li><li>export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/dbhome_1</li><li>export ORACLE_SID=orcl</li><li>export ORACLE_TERM=xterm</li><li>export TNS_ADMIN=$ORACLE_HOME/network/admin</li><li>export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/usr/lib</li><li></li><li>#不加下面的2行，我安装的时候界面都是乱码</li><li>export NLS_LANG=AMERICAN_AMERICA.UTF8</li><li>export LANG=en_US.UTF8</li><li></li><li></li><li>PATH=$PATH:$HOME/.local/bin:$HOME/bin:$ORACLE_HOME/bin</li><li></li><li>export PATH</li></ol><p>4.执行命令source /home/oracle/.bash_profile，让配置立即生效。</p><h1 id="安装Oracle"><a href="#安装Oracle" class="headerlink" title="安装Oracle"></a>安装Oracle</h1><p>转下一篇</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2020/09/20/hello-world/"/>
      <url>2020/09/20/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
